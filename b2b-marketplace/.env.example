# B2B Marketplace Backend Environment Configuration
# Copy this file to .env and update the values

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=B2B Marketplace
APP_VERSION=2.1.0
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=true  # Set to false in production

# =============================================================================
# API Configuration
# =============================================================================
API_PREFIX=/api/v1  # API endpoint prefix (keep in sync with frontend)

# =============================================================================
# Security Settings
# =============================================================================
# CRITICAL: Generate a secure random key for production!
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_IN_PRODUCTION_USE_RANDOM_KEY_AT_LEAST_32_CHARS
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
REQUIRE_REFRESH_REDIS=false  # Set to true in production

# =============================================================================
# Database Configuration
# =============================================================================
# Local development (PostgreSQL)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/marketplace

# Docker environment
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/marketplace

# Production example (use secure credentials!)
# DATABASE_URL=postgresql+asyncpg://user:secure_password@production-host:5432/marketplace

# =============================================================================
# Redis Configuration (for caching and rate limiting)
# =============================================================================
# Local development
REDIS_URL=redis://localhost:6379/0

# Docker environment
# REDIS_URL=redis://redis:6379/0

# Production example
# REDIS_URL=redis://:secure_password@production-redis-host:6379/0

# =============================================================================
# Message Queue (RabbitMQ)
# =============================================================================
# Local development
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# Docker environment
# RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/

# Production example
# RABBITMQ_URL=amqp://user:secure_password@production-rabbitmq-host:5672/

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins (leave empty for DEBUG mode defaults)
TRUSTED_ORIGINS=http://localhost:3000,http://localhost:19006,http://localhost:8000

# Production example:
# TRUSTED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# =============================================================================
# Plugin System
# =============================================================================
ENABLE_PLUGIN_HOT_RELOAD=false  # Enable for development only
LEGACY_MODE=true  # Enable legacy compatibility layer

# =============================================================================
# Monitoring & Observability
# =============================================================================
METRICS_ENABLED=false  # Enable Prometheus metrics
SENTRY_DSN=  # Sentry DSN for error tracking (optional)

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# File Upload Settings
# =============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=/tmp/uploads  # Directory for temporary uploads

# =============================================================================
# Email Configuration (if applicable)
# =============================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_EMAIL=noreply@yourdomain.com
# SMTP_FROM_NAME=B2B Marketplace

# =============================================================================
# SMS/OTP Configuration (if applicable)
# =============================================================================
# SMS_PROVIDER=twilio  # or kavenegar, etc.
# SMS_API_KEY=your-api-key
# SMS_API_SECRET=your-api-secret

# =============================================================================
# Payment Gateway Configuration (if applicable)
# =============================================================================
# PAYMENT_GATEWAY_URL=https://payment-gateway.example.com
# PAYMENT_GATEWAY_KEY=your-gateway-key
# PAYMENT_GATEWAY_SECRET=your-gateway-secret

# =============================================================================
# Production Checklist
# =============================================================================
# Before deploying to production, ensure:
# ✓ SECRET_KEY is a strong random value (at least 32 characters)
# ✓ DEBUG is set to false
# ✓ ENVIRONMENT is set to production
# ✓ DATABASE_URL uses secure credentials
# ✓ REDIS_URL uses secure credentials (if applicable)
# ✓ TRUSTED_ORIGINS is properly configured
# ✓ SENTRY_DSN is configured for error tracking
# ✓ All sensitive credentials are properly secured
# ✓ SSL/TLS is enabled for database and Redis connections
# ✓ Rate limiting is properly configured
# ✓ Backup strategy is in place
